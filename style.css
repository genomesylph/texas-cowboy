:root{
  --leather:#3a2516; --leather-d:#2a1a10;
  --parch:#f0e0c8; --gold:#e2b34b;
  --green:#58b368; --red:#d9534f; --blue:#4fa3ff;
  --text:#f7eddc;

  /* === ปรับขนาดรูปคาวบอย/กระทิง (ชิดขอบ) === */
  --side-fig-w: 140px;

  /* === ปรับขนาดไพ่ (การ์ด) === */
  --card-w: 80px;      /* กว้างไพ่ */
  --card-h: 114px;     /* สูงไพ่  */
  --rank-size: 32px;   /* A/K/Q/J/ตัวเลข */
  --suit-size: 30px;   /* ♠ ♥ ♦ ♣ */

  /* === ปรับขนาดกล่องด้านล่างทั้งหมด (ซ้าย/ขวา) === */
  /* ปรับ 5 ตัวนี้ เพื่อ “ขนาดกล่อง” ทั้งหมด */
  --tile-gap: 10px;      /* ระยะห่างระหว่างกล่อง */
  --tile-pad: 12px;      /* padding ในกล่อง */
  --tile-min-h: 60px;    /* ความสูงขั้นต่ำกล่อง */
  --tile-font: 18px;     /* ฟอนต์หลักในกล่อง */
  --tile-title: 16px;    /* ฟอนต์หัวข้อ/ชื่อช่อง */
  --tile-odd: 16px;      /* ฟอนต์ตัวคูณ ×2.2 ฯลฯ */
}

*{box-sizing:border-box}
body{
  margin:0;font-family:system-ui,Segoe UI,Roboto,Inter,sans-serif;color:var(--text);
  background:url("background.png") center/cover fixed no-repeat;
}

/* ---------- TOP BAR ---------- */
.topbar{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;background:linear-gradient(#3f2a1a,#2a1a10);border-bottom:2px solid #0006}
.topbar h1{font-size:18px;margin:0;color:var(--parch)}
.wallet{display:flex;gap:8px;align-items:center}
.btn{border:1px solid #5a3a25;background:#513520;color:#ffe9b8;border-radius:10px;padding:10px 14px;cursor:pointer}
.btn.sm{padding:6px 10px}
.btn.primary{background:linear-gradient(#805333,#6b452a)}
.btn.lg{font-size:18px;padding:12px 18px;border-radius:12px}

/* ---------- LAYOUT ---------- */
.wrap{max-width:1100px;margin:16px auto;padding:12px}
.arena{display:grid;grid-template-columns:1fr auto 1fr;gap:12px;align-items:start}

/* player sides */
.side{position:relative;background:#0f191a;border:1px solid #0008;border-radius:16px;padding:12px;min-height:160px;overflow:visible}
.side-head{display:flex;justify-content:space-between;align-items:center;gap:8px;font-weight:800;color:var(--parch)}
.dot{width:10px;height:10px;border-radius:50%;display:inline-block}
.dot.red{background:var(--red)} .dot.blue{background:var(--blue)} .dot.green{background:var(--green)}
.tag{padding:2px 8px;border-radius:999px;border:1px solid #0008;color:#ddd;background:#2a1c16}
.hand{display:flex;gap:8px;margin-top:8px}

/* รูปคาวบอย/กระทิงชิดขอบ */
.side.cowboy::before,
.side.bull::before{
  content:""; position:absolute; top:0; bottom:0; width:var(--side-fig-w);
  background-repeat:no-repeat; background-position:center; background-size:contain;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,.4));
  pointer-events: none;
}
.side.cowboy::before{ left:calc(-1 * var(--side-fig-w)); background-image:url("cowboy.png"); }
.side.bull::before{ right:calc(-1 * var(--side-fig-w)); background-image:url("bull.png"); }

/* board */
.center .community{display:flex;gap:8px;background:linear-gradient(#0f2c2e,#0b2426);border:1px solid #0008;border-radius:12px;padding:8px;min-height:106px}
.result{margin-top:8px}

/* cards */
.hand .card, .community .card{
  width: var(--card-w) !important;
  height: var(--card-h) !important;
  font-size: var(--rank-size) !important;
  display: grid; place-items: center;
}
.hand .card small, .community .card small{
  font-size: var(--suit-size) !important;
  line-height: 1 !important;
}
.card{border-radius:10px;background:#fff;color:#111;font-weight:800;border:2px solid #0002;box-shadow:0 2px 8px #0005}
.card.red{color:#c62839}

/* chips row */
.chips{display:flex;align-items:center;gap:8px;margin-top:12px}
.chip-title{opacity:.9;margin-right:6px}
.chip{border:2px solid #3a2a18;background:#2b201b;color:#ffe4a6;border-radius:999px;padding:8px 14px;font-weight:800;cursor:pointer}
.chip.active{outline:3px solid var(--gold)}

/* bet zones */
.zone{margin-top:14px}
.zone-grid-top{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.zone-bottom{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.zone-head{background:#4a2f1c;border:2px solid #6a4027;color:#f7dca5;border-radius:10px;padding:6px 10px;margin-bottom:8px;text-align:center;font-weight:800;letter-spacing:.5px}

/* กล่องล่างซ้าย/ขวาเป็นแนวตั้ง (5 แถว) */
.zone-grid-sub{display:grid;grid-template-columns:1fr;gap:var(--tile-gap);grid-auto-rows:auto}
.left-five,.right-five{grid-template-columns:1fr !important}

/* tiles */
.tile{
  background:linear-gradient(#163d40,#0f2c2e);
  border:2px solid #30241b;border-radius:12px;
  padding:var(--tile-pad) !important;
  cursor:pointer;position:relative;
  min-height:var(--tile-min-h) !important;
  box-shadow:0 2px 0 #0006 inset
}
.tile:hover{outline:2px solid #3ec6c7}
.t-head,.t-center{display:flex;justify-content:space-between;align-items:center}
.t-center{justify-content:center;gap:10px}
.t-center .title{font-size:18px;font-weight:900;text-transform:uppercase}
.odd{color:var(--gold);font-weight:900;font-size:var(--tile-odd) !important}
.foot{display:flex;justify-content:space-between;align-items:center;margin-top:8px;gap:8px;font-size:var(--tile-font) !important}
.placed{font-weight:800}
.since{color:#bfbfbf;font-size:12px}
.flag{width:12px;height:12px;border-radius:50%;border:2px solid #0003;display:inline-block}
.flag.win{background:var(--green)} .flag.lose{background:#b44}

/* log tile */
#log-tile .t-head{display:none}
#log-tile{padding:8px;min-height:calc(var(--tile-min-h) - 20px) !important}
#log{
  max-height:calc(var(--tile-min-h) - 30px) !important;
  line-height:1.25; overflow:auto;
  background:#27190f;border:1px solid #5a3a25;border-radius:8px;
  padding:8px;color:#ffe7c7;font-size:13px
}

/* controls tile */
#controls-tile{cursor:default}

/* history badges */
.history{display:flex;gap:6px;flex-wrap:wrap;justify-content:center;margin-bottom:8px}
.badge{width:14px;height:14px;border-radius:50%}
.badge.l{background:var(--red)} .badge.r{background:var(--blue)} .badge.t{background:var(--green)}



/* =========================================================
   === MOBILE OPTIMIZE: เห็นทุกปุ่มในหน้าเดียวบนมือถือ ===
   - ย่อขนาดรูป/ไพ่/กล่อง
   - รวมคอลัมน์เป็นคอลัมน์เดียว
   - ตรึง “ชิป” และ “แจกไพ่/เปิดผล” ไว้ด้านล่าง
   ปรับตัวเลขตามใจได้
   ========================================================= */

/* จุดปรับแรก: แท็บเล็ตลงไป */
@media (max-width: 900px){
  .wrap{max-width:100%; padding:10px}
  :root{
    --side-fig-w: 96px;
    --card-w: 66px; --card-h: 92px; --rank-size: 26px; --suit-size: 18px;
    --tile-gap: 8px; --tile-pad: 10px; --tile-min-h: 56px;
    --tile-font: 16px; --tile-title: 15px; --tile-odd: 15px;
  }
  .arena{grid-template-columns:1fr}      /* มือซ้าย–บอร์ด–มือขวา เรียงลง */
  .zone-grid-top{grid-template-columns:repeat(3,1fr)} /* ผู้ชนะ 3 ช่องอยู่ในบรรทัดเดียว */
}

/* จุดปรับหลัก: มือถือแนวตั้ง */
@media (max-width: 600px){
  :root{
    --side-fig-w: 72px;                  /* รูปข้าง ๆ เล็กลง */
    --card-w: 54px; --card-h: 72px;      /* ไพ่เล็กลงเพื่อไม่ล้น */
    --rank-size: 22px; --suit-size: 16px;

    /* ===== จุดที่ “ปรับขนาดกล่อง” บนมือถือ ===== */
    --tile-gap: 8px;
    --tile-pad: 8px;
    --tile-min-h: 50px;
    --tile-font: 14px;
    --tile-title: 14px;
    --tile-odd: 14px;
  }

  .wrap{padding:8px}
  .zone-bottom{grid-template-columns:1fr} /* ซ้าย/ขวา รวมเป็นคอลัมน์เดียว */
  .zone-grid-top{grid-template-columns:repeat(3,1fr)}
  .zone-head{padding:6px 8px}

  /* ให้บรรทัดภายในกล่องกระชับ */
  .since{font-size:11px}
  #log{font-size:12px}

  /* ===== ตรึงชิปและปุ่มไว้ด้านล่างให้เห็นตลอด ===== */
  body{padding-bottom:128px} /* กันพื้นที่ให้ของที่ตรึงทับ */
  .chips{
    position:fixed; left:8px; right:8px; bottom:64px; z-index:60;
    background:linear-gradient(#2b201b,#1f1712);
    border:1px solid #0008; border-radius:12px; padding:6px 8px;
    gap:6px; overflow-x:auto; white-space:nowrap;
  }
  #deal{
    position:fixed; left:8px; right:8px; bottom:8px; z-index:70;
    border-radius:12px; padding:12px 16px; font-size:16px;
  }
  /* ซ่อนกรอบปุ่มในโซนกล่อง เพื่อเหลือเฉพาะปุ่มที่ตรึง */
  #controls-tile{ display:none; }
}

/* มือถือเล็กมาก ๆ */
@media (max-width: 400px){
  :root{
    --card-w: 48px; --card-h: 64px; --rank-size: 20px; --suit-size: 14px;
    --tile-font: 13px; --tile-title: 13px; --tile-odd: 13px;
  }
  .chip{padding:6px 10px}
  #deal{padding:10px 14px; font-size:15px}
}
#log{
  max-height: none !important;
  overflow: hidden !important;
}
